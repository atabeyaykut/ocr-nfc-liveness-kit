diff --git a/node_modules/@react-native/community-cli-plugin/dist/commands/start/middleware.js b/node_modules/@react-native/community-cli-plugin/dist/commands/start/middleware.js
index 1234567..abcdefg 100644
--- a/node_modules/@react-native/community-cli-plugin/dist/commands/start/middleware.js
+++ b/node_modules/@react-native/community-cli-plugin/dist/commands/start/middleware.js
@@ -9,7 +9,9 @@ const noopNextHandle = (req, res, next) => {
   next();
 };
 const unusedStubWSServer = {};
-const unusedMiddlewareStub = {};
+const unusedMiddlewareStub = (req, res, next) => {
+  next();
+};
 const communityMiddlewareFallback = {
   createDevServerMiddleware: (params) => ({
     middleware: unusedMiddlewareStub,
@@ -28,12 +30,21 @@ const communityMiddlewareFallback = {
 };
 try {
   const community = require("@react-native-community/cli-server-api");
-  communityMiddlewareFallback.indexPageMiddleware =
-    community.indexPageMiddleware;
   communityMiddlewareFallback.createDevServerMiddleware =
     community.createDevServerMiddleware;
-} catch {
-  debug(`⚠️ Unable to find @react-native-community/cli-server-api
-Starting the server without the community middleware.`);
+  // indexPageMiddleware is not exported from cli-server-api, use fallback
+  try {
+    const indexPage = require("@react-native-community/cli-server-api/build/indexPageMiddleware");
+    communityMiddlewareFallback.indexPageMiddleware = indexPage.default || indexPage;
+  } catch (e) {
+    // Keep using noopNextHandle fallback
+    debug('Using fallback indexPageMiddleware');
+  }
+} catch (error) {
+  console.error(`⚠️ Unable to load @react-native-community/cli-server-api:`, error.message);
+  console.error(`Starting the server without the community middleware.`);
 }
 const createDevServerMiddleware = (exports.createDevServerMiddleware =
   communityMiddlewareFallback.createDevServerMiddleware);
diff --git a/node_modules/@react-native/community-cli-plugin/dist/commands/start/runServer.js b/node_modules/@react-native/community-cli-plugin/dist/commands/start/runServer.js
index 1234567..abcdefg 100644
--- a/node_modules/@react-native/community-cli-plugin/dist/commands/start/runServer.js
+++ b/node_modules/@react-native/community-cli-plugin/dist/commands/start/runServer.js
@@ -145,12 +145,24 @@ async function runServer(cliConfig, args) {
     },
   };
+  const middlewares = [
+    communityMiddleware,
+    _middleware.indexPageMiddleware,
+    middleware,
+  ].filter(m => m !== null && m !== undefined && typeof m === 'function');
+  
   const serverInstance = await _metro.default.runServer(metroConfig, {
     host: args.host,
     secure: args.https,
     secureCert: args.cert,
     secureKey: args.key,
-    unstable_extraMiddleware: [
-      communityMiddleware,
-      _middleware.indexPageMiddleware,
-      middleware,
-    ],
+    unstable_extraMiddleware: middlewares,
     websocketEndpoints: {
